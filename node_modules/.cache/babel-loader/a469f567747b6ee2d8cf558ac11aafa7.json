{"ast":null,"code":"\"use strict\";\n\nmodule.exports = function (Promise, INTERNAL, debug) {\n  var util = require(\"./util\");\n\n  var TimeoutError = Promise.TimeoutError;\n\n  function HandleWrapper(handle) {\n    this.handle = handle;\n  }\n\n  HandleWrapper.prototype._resultCancelled = function () {\n    clearTimeout(this.handle);\n  };\n\n  var afterValue = function (value) {\n    return delay(+this).thenReturn(value);\n  };\n\n  var delay = Promise.delay = function (ms, value) {\n    var ret;\n    var handle;\n\n    if (value !== undefined) {\n      ret = Promise.resolve(value)._then(afterValue, null, null, ms, undefined);\n\n      if (debug.cancellation() && value instanceof Promise) {\n        ret._setOnCancel(value);\n      }\n    } else {\n      ret = new Promise(INTERNAL);\n      handle = setTimeout(function () {\n        ret._fulfill();\n      }, +ms);\n\n      if (debug.cancellation()) {\n        ret._setOnCancel(new HandleWrapper(handle));\n      }\n\n      ret._captureStackTrace();\n    }\n\n    ret._setAsyncGuaranteed();\n\n    return ret;\n  };\n\n  Promise.prototype.delay = function (ms) {\n    return delay(ms, this);\n  };\n\n  var afterTimeout = function (promise, message, parent) {\n    var err;\n\n    if (typeof message !== \"string\") {\n      if (message instanceof Error) {\n        err = message;\n      } else {\n        err = new TimeoutError(\"operation timed out\");\n      }\n    } else {\n      err = new TimeoutError(message);\n    }\n\n    util.markAsOriginatingFromRejection(err);\n\n    promise._attachExtraTrace(err);\n\n    promise._reject(err);\n\n    if (parent != null) {\n      parent.cancel();\n    }\n  };\n\n  function successClear(value) {\n    clearTimeout(this.handle);\n    return value;\n  }\n\n  function failureClear(reason) {\n    clearTimeout(this.handle);\n    throw reason;\n  }\n\n  Promise.prototype.timeout = function (ms, message) {\n    ms = +ms;\n    var ret, parent;\n    var handleWrapper = new HandleWrapper(setTimeout(function timeoutTimeout() {\n      if (ret.isPending()) {\n        afterTimeout(ret, message, parent);\n      }\n    }, ms));\n\n    if (debug.cancellation()) {\n      parent = this.then();\n      ret = parent._then(successClear, failureClear, undefined, handleWrapper, undefined);\n\n      ret._setOnCancel(handleWrapper);\n    } else {\n      ret = this._then(successClear, failureClear, undefined, handleWrapper, undefined);\n    }\n\n    return ret;\n  };\n};","map":{"version":3,"names":["module","exports","Promise","INTERNAL","debug","util","require","TimeoutError","HandleWrapper","handle","prototype","_resultCancelled","clearTimeout","afterValue","value","delay","thenReturn","ms","ret","undefined","resolve","_then","cancellation","_setOnCancel","setTimeout","_fulfill","_captureStackTrace","_setAsyncGuaranteed","afterTimeout","promise","message","parent","err","Error","markAsOriginatingFromRejection","_attachExtraTrace","_reject","cancel","successClear","failureClear","reason","timeout","handleWrapper","timeoutTimeout","isPending","then"],"sources":["E:/react-projects/new project/2022/converter/converter/node_modules/mammoth/node_modules/bluebird/js/release/timers.js"],"sourcesContent":["\"use strict\";\nmodule.exports = function(Promise, INTERNAL, debug) {\nvar util = require(\"./util\");\nvar TimeoutError = Promise.TimeoutError;\n\nfunction HandleWrapper(handle)  {\n    this.handle = handle;\n}\n\nHandleWrapper.prototype._resultCancelled = function() {\n    clearTimeout(this.handle);\n};\n\nvar afterValue = function(value) { return delay(+this).thenReturn(value); };\nvar delay = Promise.delay = function (ms, value) {\n    var ret;\n    var handle;\n    if (value !== undefined) {\n        ret = Promise.resolve(value)\n                ._then(afterValue, null, null, ms, undefined);\n        if (debug.cancellation() && value instanceof Promise) {\n            ret._setOnCancel(value);\n        }\n    } else {\n        ret = new Promise(INTERNAL);\n        handle = setTimeout(function() { ret._fulfill(); }, +ms);\n        if (debug.cancellation()) {\n            ret._setOnCancel(new HandleWrapper(handle));\n        }\n        ret._captureStackTrace();\n    }\n    ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.prototype.delay = function (ms) {\n    return delay(ms, this);\n};\n\nvar afterTimeout = function (promise, message, parent) {\n    var err;\n    if (typeof message !== \"string\") {\n        if (message instanceof Error) {\n            err = message;\n        } else {\n            err = new TimeoutError(\"operation timed out\");\n        }\n    } else {\n        err = new TimeoutError(message);\n    }\n    util.markAsOriginatingFromRejection(err);\n    promise._attachExtraTrace(err);\n    promise._reject(err);\n\n    if (parent != null) {\n        parent.cancel();\n    }\n};\n\nfunction successClear(value) {\n    clearTimeout(this.handle);\n    return value;\n}\n\nfunction failureClear(reason) {\n    clearTimeout(this.handle);\n    throw reason;\n}\n\nPromise.prototype.timeout = function (ms, message) {\n    ms = +ms;\n    var ret, parent;\n\n    var handleWrapper = new HandleWrapper(setTimeout(function timeoutTimeout() {\n        if (ret.isPending()) {\n            afterTimeout(ret, message, parent);\n        }\n    }, ms));\n\n    if (debug.cancellation()) {\n        parent = this.then();\n        ret = parent._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n        ret._setOnCancel(handleWrapper);\n    } else {\n        ret = this._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n    }\n\n    return ret;\n};\n\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}