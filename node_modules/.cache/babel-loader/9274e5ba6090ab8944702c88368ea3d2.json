{"ast":null,"code":"exports.read = read;\nexports._findPartPaths = findPartPaths;\n\nvar path = require(\"path\");\n\nvar promises = require(\"../promises\");\n\nvar documents = require(\"../documents\");\n\nvar Result = require(\"../results\").Result;\n\nvar zipfile = require(\"../zipfile\");\n\nvar readXmlFromZipFile = require(\"./office-xml-reader\").readXmlFromZipFile;\n\nvar createBodyReader = require(\"./body-reader\").createBodyReader;\n\nvar DocumentXmlReader = require(\"./document-xml-reader\").DocumentXmlReader;\n\nvar relationshipsReader = require(\"./relationships-reader\");\n\nvar contentTypesReader = require(\"./content-types-reader\");\n\nvar numberingXml = require(\"./numbering-xml\");\n\nvar stylesReader = require(\"./styles-reader\");\n\nvar notesReader = require(\"./notes-reader\");\n\nvar commentsReader = require(\"./comments-reader\");\n\nvar Files = require(\"./files\").Files;\n\nfunction read(docxFile, input) {\n  input = input || {};\n  return promises.props({\n    contentTypes: readContentTypesFromZipFile(docxFile),\n    partPaths: findPartPaths(docxFile),\n    docxFile: docxFile,\n    files: new Files(input.path ? path.dirname(input.path) : null)\n  }).also(function (result) {\n    return {\n      styles: readStylesFromZipFile(docxFile, result.partPaths.styles)\n    };\n  }).also(function (result) {\n    return {\n      numbering: readNumberingFromZipFile(docxFile, result.partPaths.numbering, result.styles)\n    };\n  }).also(function (result) {\n    return {\n      footnotes: readXmlFileWithBody(result.partPaths.footnotes, result, function (bodyReader, xml) {\n        if (xml) {\n          return notesReader.createFootnotesReader(bodyReader)(xml);\n        } else {\n          return new Result([]);\n        }\n      }),\n      endnotes: readXmlFileWithBody(result.partPaths.endnotes, result, function (bodyReader, xml) {\n        if (xml) {\n          return notesReader.createEndnotesReader(bodyReader)(xml);\n        } else {\n          return new Result([]);\n        }\n      }),\n      comments: readXmlFileWithBody(result.partPaths.comments, result, function (bodyReader, xml) {\n        if (xml) {\n          return commentsReader.createCommentsReader(bodyReader)(xml);\n        } else {\n          return new Result([]);\n        }\n      })\n    };\n  }).also(function (result) {\n    return {\n      notes: result.footnotes.flatMap(function (footnotes) {\n        return result.endnotes.map(function (endnotes) {\n          return new documents.Notes(footnotes.concat(endnotes));\n        });\n      })\n    };\n  }).then(function (result) {\n    return readXmlFileWithBody(result.partPaths.mainDocument, result, function (bodyReader, xml) {\n      return result.notes.flatMap(function (notes) {\n        return result.comments.flatMap(function (comments) {\n          var reader = new DocumentXmlReader({\n            bodyReader: bodyReader,\n            notes: notes,\n            comments: comments\n          });\n          return reader.convertXmlToDocument(xml);\n        });\n      });\n    });\n  });\n}\n\nfunction findPartPaths(docxFile) {\n  return readPackageRelationships(docxFile).then(function (packageRelationships) {\n    var mainDocumentPath = findPartPath({\n      docxFile: docxFile,\n      relationships: packageRelationships,\n      relationshipType: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\",\n      basePath: \"\",\n      fallbackPath: \"word/document.xml\"\n    });\n\n    if (!docxFile.exists(mainDocumentPath)) {\n      throw new Error(\"Could not find main document part. Are you sure this is a valid .docx file?\");\n    }\n\n    return xmlFileReader({\n      filename: relationshipsFilename(mainDocumentPath),\n      readElement: relationshipsReader.readRelationships,\n      defaultValue: relationshipsReader.defaultValue\n    })(docxFile).then(function (documentRelationships) {\n      function findPartRelatedToMainDocument(name) {\n        return findPartPath({\n          docxFile: docxFile,\n          relationships: documentRelationships,\n          relationshipType: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/\" + name,\n          basePath: zipfile.splitPath(mainDocumentPath).dirname,\n          fallbackPath: \"word/\" + name + \".xml\"\n        });\n      }\n\n      return {\n        mainDocument: mainDocumentPath,\n        comments: findPartRelatedToMainDocument(\"comments\"),\n        endnotes: findPartRelatedToMainDocument(\"endnotes\"),\n        footnotes: findPartRelatedToMainDocument(\"footnotes\"),\n        numbering: findPartRelatedToMainDocument(\"numbering\"),\n        styles: findPartRelatedToMainDocument(\"styles\")\n      };\n    });\n  });\n}\n\nfunction findPartPath(options) {\n  var docxFile = options.docxFile;\n  var relationships = options.relationships;\n  var relationshipType = options.relationshipType;\n  var basePath = options.basePath;\n  var fallbackPath = options.fallbackPath;\n  var targets = relationships.findTargetsByType(relationshipType);\n  var normalisedTargets = targets.map(function (target) {\n    return stripPrefix(zipfile.joinPath(basePath, target), \"/\");\n  });\n  var validTargets = normalisedTargets.filter(function (target) {\n    return docxFile.exists(target);\n  });\n\n  if (validTargets.length === 0) {\n    return fallbackPath;\n  } else {\n    return validTargets[0];\n  }\n}\n\nfunction stripPrefix(value, prefix) {\n  if (value.substring(0, prefix.length) === prefix) {\n    return value.substring(prefix.length);\n  } else {\n    return value;\n  }\n}\n\nfunction xmlFileReader(options) {\n  return function (zipFile) {\n    return readXmlFromZipFile(zipFile, options.filename).then(function (element) {\n      return element ? options.readElement(element) : options.defaultValue;\n    });\n  };\n}\n\nfunction readXmlFileWithBody(filename, options, func) {\n  var readRelationshipsFromZipFile = xmlFileReader({\n    filename: relationshipsFilename(filename),\n    readElement: relationshipsReader.readRelationships,\n    defaultValue: relationshipsReader.defaultValue\n  });\n  return readRelationshipsFromZipFile(options.docxFile).then(function (relationships) {\n    var bodyReader = new createBodyReader({\n      relationships: relationships,\n      contentTypes: options.contentTypes,\n      docxFile: options.docxFile,\n      numbering: options.numbering,\n      styles: options.styles,\n      files: options.files\n    });\n    return readXmlFromZipFile(options.docxFile, filename).then(function (xml) {\n      return func(bodyReader, xml);\n    });\n  });\n}\n\nfunction relationshipsFilename(filename) {\n  var split = zipfile.splitPath(filename);\n  return zipfile.joinPath(split.dirname, \"_rels\", split.basename + \".rels\");\n}\n\nvar readContentTypesFromZipFile = xmlFileReader({\n  filename: \"[Content_Types].xml\",\n  readElement: contentTypesReader.readContentTypesFromXml,\n  defaultValue: contentTypesReader.defaultContentTypes\n});\n\nfunction readNumberingFromZipFile(zipFile, path, styles) {\n  return xmlFileReader({\n    filename: path,\n    readElement: function (element) {\n      return numberingXml.readNumberingXml(element, {\n        styles: styles\n      });\n    },\n    defaultValue: numberingXml.defaultNumbering\n  })(zipFile);\n}\n\nfunction readStylesFromZipFile(zipFile, path) {\n  return xmlFileReader({\n    filename: path,\n    readElement: stylesReader.readStylesXml,\n    defaultValue: stylesReader.defaultStyles\n  })(zipFile);\n}\n\nvar readPackageRelationships = xmlFileReader({\n  filename: \"_rels/.rels\",\n  readElement: relationshipsReader.readRelationships,\n  defaultValue: relationshipsReader.defaultValue\n});","map":{"version":3,"names":["exports","read","_findPartPaths","findPartPaths","path","require","promises","documents","Result","zipfile","readXmlFromZipFile","createBodyReader","DocumentXmlReader","relationshipsReader","contentTypesReader","numberingXml","stylesReader","notesReader","commentsReader","Files","docxFile","input","props","contentTypes","readContentTypesFromZipFile","partPaths","files","dirname","also","result","styles","readStylesFromZipFile","numbering","readNumberingFromZipFile","footnotes","readXmlFileWithBody","bodyReader","xml","createFootnotesReader","endnotes","createEndnotesReader","comments","createCommentsReader","notes","flatMap","map","Notes","concat","then","mainDocument","reader","convertXmlToDocument","readPackageRelationships","packageRelationships","mainDocumentPath","findPartPath","relationships","relationshipType","basePath","fallbackPath","exists","Error","xmlFileReader","filename","relationshipsFilename","readElement","readRelationships","defaultValue","documentRelationships","findPartRelatedToMainDocument","name","splitPath","options","targets","findTargetsByType","normalisedTargets","target","stripPrefix","joinPath","validTargets","filter","length","value","prefix","substring","zipFile","element","func","readRelationshipsFromZipFile","split","basename","readContentTypesFromXml","defaultContentTypes","readNumberingXml","defaultNumbering","readStylesXml","defaultStyles"],"sources":["E:/react-projects/new project/2022/converter/converter/node_modules/mammoth/lib/docx/docx-reader.js"],"sourcesContent":["exports.read = read;\nexports._findPartPaths = findPartPaths;\n\nvar path = require(\"path\");\n\nvar promises = require(\"../promises\");\nvar documents = require(\"../documents\");\nvar Result = require(\"../results\").Result;\nvar zipfile = require(\"../zipfile\");\n\nvar readXmlFromZipFile = require(\"./office-xml-reader\").readXmlFromZipFile;\nvar createBodyReader = require(\"./body-reader\").createBodyReader;\nvar DocumentXmlReader = require(\"./document-xml-reader\").DocumentXmlReader;\nvar relationshipsReader = require(\"./relationships-reader\");\nvar contentTypesReader = require(\"./content-types-reader\");\nvar numberingXml = require(\"./numbering-xml\");\nvar stylesReader = require(\"./styles-reader\");\nvar notesReader = require(\"./notes-reader\");\nvar commentsReader = require(\"./comments-reader\");\nvar Files = require(\"./files\").Files;\n\n\nfunction read(docxFile, input) {\n    input = input || {};\n\n    return promises.props({\n        contentTypes: readContentTypesFromZipFile(docxFile),\n        partPaths: findPartPaths(docxFile),\n        docxFile: docxFile,\n        files: new Files(input.path ? path.dirname(input.path) : null)\n    }).also(function(result) {\n        return {\n            styles: readStylesFromZipFile(docxFile, result.partPaths.styles)\n        };\n    }).also(function(result) {\n        return {\n            numbering: readNumberingFromZipFile(docxFile, result.partPaths.numbering, result.styles)\n        };\n    }).also(function(result) {\n        return {\n            footnotes: readXmlFileWithBody(result.partPaths.footnotes, result, function(bodyReader, xml) {\n                if (xml) {\n                    return notesReader.createFootnotesReader(bodyReader)(xml);\n                } else {\n                    return new Result([]);\n                }\n            }),\n            endnotes: readXmlFileWithBody(result.partPaths.endnotes, result, function(bodyReader, xml) {\n                if (xml) {\n                    return notesReader.createEndnotesReader(bodyReader)(xml);\n                } else {\n                    return new Result([]);\n                }\n            }),\n            comments: readXmlFileWithBody(result.partPaths.comments, result, function(bodyReader, xml) {\n                if (xml) {\n                    return commentsReader.createCommentsReader(bodyReader)(xml);\n                } else {\n                    return new Result([]);\n                }\n            })\n        };\n    }).also(function(result) {\n        return {\n            notes: result.footnotes.flatMap(function(footnotes) {\n                return result.endnotes.map(function(endnotes) {\n                    return new documents.Notes(footnotes.concat(endnotes));\n                });\n            })\n        };\n    }).then(function(result) {\n        return readXmlFileWithBody(result.partPaths.mainDocument, result, function(bodyReader, xml) {\n            return result.notes.flatMap(function(notes) {\n                return result.comments.flatMap(function(comments) {\n                    var reader = new DocumentXmlReader({\n                        bodyReader: bodyReader,\n                        notes: notes,\n                        comments: comments\n                    });\n                    return reader.convertXmlToDocument(xml);\n                });\n            });\n        });\n    });\n}\n\nfunction findPartPaths(docxFile) {\n    return readPackageRelationships(docxFile).then(function(packageRelationships) {\n        var mainDocumentPath = findPartPath({\n            docxFile: docxFile,\n            relationships: packageRelationships,\n            relationshipType: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\",\n            basePath: \"\",\n            fallbackPath: \"word/document.xml\"\n        });\n\n        if (!docxFile.exists(mainDocumentPath)) {\n            throw new Error(\"Could not find main document part. Are you sure this is a valid .docx file?\");\n        }\n\n        return xmlFileReader({\n            filename: relationshipsFilename(mainDocumentPath),\n            readElement: relationshipsReader.readRelationships,\n            defaultValue: relationshipsReader.defaultValue\n        })(docxFile).then(function(documentRelationships) {\n            function findPartRelatedToMainDocument(name) {\n                return findPartPath({\n                    docxFile: docxFile,\n                    relationships: documentRelationships,\n                    relationshipType: \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/\" + name,\n                    basePath: zipfile.splitPath(mainDocumentPath).dirname,\n                    fallbackPath: \"word/\" + name + \".xml\"\n                });\n            }\n\n            return {\n                mainDocument: mainDocumentPath,\n                comments: findPartRelatedToMainDocument(\"comments\"),\n                endnotes: findPartRelatedToMainDocument(\"endnotes\"),\n                footnotes: findPartRelatedToMainDocument(\"footnotes\"),\n                numbering: findPartRelatedToMainDocument(\"numbering\"),\n                styles: findPartRelatedToMainDocument(\"styles\")\n            };\n        });\n    });\n}\n\nfunction findPartPath(options) {\n    var docxFile = options.docxFile;\n    var relationships = options.relationships;\n    var relationshipType = options.relationshipType;\n    var basePath = options.basePath;\n    var fallbackPath = options.fallbackPath;\n\n    var targets = relationships.findTargetsByType(relationshipType);\n    var normalisedTargets = targets.map(function(target) {\n        return stripPrefix(zipfile.joinPath(basePath, target), \"/\");\n    });\n    var validTargets = normalisedTargets.filter(function(target) {\n        return docxFile.exists(target);\n    });\n    if (validTargets.length === 0) {\n        return fallbackPath;\n    } else {\n        return validTargets[0];\n    }\n}\n\nfunction stripPrefix(value, prefix) {\n    if (value.substring(0, prefix.length) === prefix) {\n        return value.substring(prefix.length);\n    } else {\n        return value;\n    }\n}\n\nfunction xmlFileReader(options) {\n    return function(zipFile) {\n        return readXmlFromZipFile(zipFile, options.filename)\n            .then(function(element) {\n                return element ? options.readElement(element) : options.defaultValue;\n            });\n    };\n}\n\nfunction readXmlFileWithBody(filename, options, func) {\n    var readRelationshipsFromZipFile = xmlFileReader({\n        filename: relationshipsFilename(filename),\n        readElement: relationshipsReader.readRelationships,\n        defaultValue: relationshipsReader.defaultValue\n    });\n\n    return readRelationshipsFromZipFile(options.docxFile).then(function(relationships) {\n        var bodyReader = new createBodyReader({\n            relationships: relationships,\n            contentTypes: options.contentTypes,\n            docxFile: options.docxFile,\n            numbering: options.numbering,\n            styles: options.styles,\n            files: options.files\n        });\n        return readXmlFromZipFile(options.docxFile, filename)\n            .then(function(xml) {\n                return func(bodyReader, xml);\n            });\n    });\n}\n\nfunction relationshipsFilename(filename) {\n    var split = zipfile.splitPath(filename);\n    return zipfile.joinPath(split.dirname, \"_rels\", split.basename + \".rels\");\n}\n\nvar readContentTypesFromZipFile = xmlFileReader({\n    filename: \"[Content_Types].xml\",\n    readElement: contentTypesReader.readContentTypesFromXml,\n    defaultValue: contentTypesReader.defaultContentTypes\n});\n\nfunction readNumberingFromZipFile(zipFile, path, styles) {\n    return xmlFileReader({\n        filename: path,\n        readElement: function(element) {\n            return numberingXml.readNumberingXml(element, {styles: styles});\n        },\n        defaultValue: numberingXml.defaultNumbering\n    })(zipFile);\n}\n\nfunction readStylesFromZipFile(zipFile, path) {\n    return xmlFileReader({\n        filename: path,\n        readElement: stylesReader.readStylesXml,\n        defaultValue: stylesReader.defaultStyles\n    })(zipFile);\n}\n\nvar readPackageRelationships = xmlFileReader({\n    filename: \"_rels/.rels\",\n    readElement: relationshipsReader.readRelationships,\n    defaultValue: relationshipsReader.defaultValue\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}